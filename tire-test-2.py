import csv
import re
import time 
import random
import os
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.common.exceptions import StaleElementReferenceException


# Open website
# Enter VIN
# Search. If found...
# CSV FUNCTION and Save

VIN_LIST = [
'4T3ZF13C2YU319182',
'JTDAT1234Y5010456',
'4T3ZF13C0YU193999',
'JT6GF10U7Y0056994',
'2G1WX12K5Y9376438',
'1GCDM19W0YB174363',
'1G4HP54K8Y4156505',
'2B7HB11Z5YK104445',
'JT6GF10UXY0059873',
'1NXBR12E7YZ366986',
'WDBLJ65GXYF150627',
'2HGEJ6610YH521556',
'1HGCG6682YA091403',
'JNKCA31A4YT208801',
'YV1VW2555YF570275',
'4S3BE6355Y6211403',
'JM1BJ2224Y0267900',
'JM1BJ2231Y0206187',
'JT8BF28G8Y0258071',
'4T1BG22K4YU970352',
'4T1BF28BXYU034164',
'1G4CW52KXY4209804',
'19UUA5678YA030368',
'1HGEJ8246YL045473',
'1HGCG2251YA029284',
'1HGEJ8249YL061926',
'3FAFP3131YR211080',
'1FAFP33PXYW175757',
'1N4DL01D1YC115670',
'3N1CB51D3YL325782',
'1C4GP44G9YB787278',
'1FMPU18LXYLA04683',
'3VWCD21C7YM484146',
'1FTRX17W7YNB75539',
'1FMRU17L2YLC21123',
'1FAFP42X0YF125764',
'1FAFP42X3YF305093',
'4S3BH6657Y6625382',
'1GCHG39R2Y1133530',
'1GYEK63R5YR189808',
'2C3HC56G1YH438162',
'2C3HE66G9YH418502',
'2C3HE66G6YH433023',
'1FAFP4041YF236137',
'2MEFM74W6YX657046',
'1FAFP4040YF138362',
'1FAFP55UXYA238108',
'1G2HX54K5Y4204907',
'2MEFM75W7YX713980',
'2FAFP74W8YX155105',
'JS2GB41S715211965',
'1HGCG16591A058493',
'JN1CA31D01T823060',
'1B7FL26P41S288953',
'1J4GW58N91C712916',
'1J4FT48S91L516799',
'1YVGF22C515201505',
'1FMRU15L41LA92407',
'4T1BG22K71U783001',
'1FTRX17W51KF84453',
'1B3AS46C51D158241',
'4A3AA46G21E145331',
'KMHDN45D11U090240',
'2HGES16531H522709',
'1HGCG22531A010869',
'1GKEC13T51J125195',
'1GKEK13T11J229735',
'1GCEC19T11Z174995',
'JHMCG66501C025297',
'2GCEK19T611341864',
'SALTL15411A710969',
'JS3TX92V414114746',
'1G4HR54K31U191100',
'1G4HP54K81U213193',
'WDBNG70J41A137617',
'4JGAB72E11A253643',
'4T3ZF19C51U347314',
'2T1FF28P41C489211',
'1G1NE52J716248702',
'1G2NF52T81M561277',
'1FMYU03141KB71251',
'1FMZU63E21ZA29580',
'2G1WX15K619223374',
'3B7HF13Z91G731329',
'JACDJ58X317J02929',
'WDBKK49F91F171893',
'WDBLJ65GX1F188493',
'WBADT43461GX25560',
'1G1ND52J416279456',
'1FTRX17W41KA54605',
'JN1CA31A21T113633',
'1N4DL01D51C130355',
'3VWSK69M31M207957',
'3C8FY4BB61T567275',
'1NXBR12E21Z482781',
'5N1ED28T71C537609',
'5N1ED28T51C557504',
'2HGES26761H519732',
'1HGCF86661A059816',
'1HGCG16401A012204',
'2B4GP44G21R171832',
'JA4LS31H01P030132',
'1G1ND52J716229828',
'1GCFG25M011159674',
'2FTPX18ZX1CA81375',
'1FMRU15WX1LB47288',
'1FMRU15W71LB41075',
'1FTRX17W01KF65244',
'4S3BH686716630464',
'1GNEC13T51R203026',
'1FAFP444X1F122699',
'1ZWFT61L715608320',
'JN8DR07Y51W508180',
'2FAFP71W71X203266',
'1LNHM87A11Y731488',
'1LNHM83W51Y723749',
'KMHFU45E72A232386',
'JHMCG564X2C000829',
'1HGCG66832A134735',
'1GNDT13S822268465',
'1GNDS13S522390154',
'1GNDS13S622276230',
'1FAFP55262G217338',
'WBADT43402GZ98298',
'2B6HB11Z82K117864',
'WDBRF64J92F206606',
'WBAGN63402DR04215',
'5UXFA53552LP39943',
'1J4GL48K22W274491',
'1J8GW58N42C268294',
'1FMYU03112KA70153',
'1G8JS54F32Y544064',
'1G8ZK54702Z188811',
'2C3AD36M42H202590',
'1NXBR12E62Z577328',
'1FMPU18L22LA90384',
'4T1BF28B82U260419',
'1C3EL46X92N168447',
'3C8FY68B62T282449',
'4A3AC34G22E044895',
'1G6KD54Y12U222328',
'JHMCG56702C032800',
'1N4AL11E12C141372',
'1N4AL11D82C706837',
'1G2HX54K724188099',
'1G4CU541324237977',
'2G4WS52J821101197',
'1FAFP38322W119356',
'WBAEU33412PF71954',
'JTEHF21A420060995',
'JTDBE32K620022646',
'1G1ND52J82M569891',
'1FMZU73E92UC36505',
'1G8ZY12732Z118617',
'1G8ZF52852Z187573',
'1G2NF52F32C135983',
'1GCDM19X72B135771',
'3D7HA18NX2G174202',
'4T1BE32K22U556098',
'JTDBT123220220949',
'SAJDA03P92GM38258',
'1G1ND52J12M717704',
'3HGCG56412G702361',
'1G1ND52J32M500431',
'JNKCP11A52T510303',
'YV1SZ58D021063707',
'JM1BJ225521589277',
'4T1BE32KX2U566815',
'1C3EL56R82N197588',
'1B3EL36X52N185253',
'5N1ED28T32C547944',
'JNRDR09X32W212933',
'1G2WP52K72F148040',
'1HGES25772L047112',
'1HGCG16572A008967',
'1FAFP34P02W323730',
'JNKBF01A22M003586',
'JACDS58X027J00697',
'4S2CK58W824315559',
'KNDJB723825172507',
'2B4GP44342R572684',
'JS3TY92V724107658',
'1G1ND52J92M672625',
'3VWSE69M12M163739',
'1FMRU15W72LA10181',
'1FAFP40452F233166',
'4A3AA46G12E083826',
'1GYEK63NX2R322826',
'2G1FP22K422127988',
'2MEFM74WX2X604941',
'1FAFP40462F130466',
'1MEFM50U72A620998',
'1FAFP52U02A181655',
'2G4WS52J321182724',
'2G4WS52J321114293',
'1G2WK52J22F270634',
'1HGCM66573A066133',
'1GCCS14X538261764',
'3G5DA03E43S607867',
'1GNDS13S932192095',
'1N4AL11D73C232333',
'JYARJ06E13A001191',
'1FAFP53U23A257389',
'1N4AL11E63C324087',
'1FAFP58283A199618',
'1FAFP52U63G276770',
'1D4HR48ZX3F600340',
'1D4HR38N33F597689',
'1D8HR58Z43F507527',
'SAJEA01T43FM76170',
'1J4GK48K63W581358',
'1J4GL48K43W647774',
'1FMYU60E93UC11387',
'1FMZU73KX3ZB51120',
'5GZCZ53B43S858592',
'1G8AN12F13Z194433',
'4T1BE32K33U767229',
'1FMFU17L03LB00389',
'5LMFU28R23LJ11481',
'5LMFU28R83LJ27040',
'YS3FB49S331017754',
'WA1YD64B43N084833',
'KNADC125X36250318',
'1G6KD54Y13U200900',
'JHMCM56303C028656',
'19UUA56983A060755',
'3N1CB51D63L798388',
'2HNYD18893H513507',
'KM8SC73D93U469653',
'JA4LS21H33J041285',
'2G1WX12K039374024',
'5UXFB33553LH44436',
'WMWRC33483TJ50579',
'WDBRF64J13F340785',
'JTDBE32K630167087',
'4T1BF28B13U276561',
'4T3ZF13C03U515890',
'5TDZT38A53S158722',
'1G2NF52E73M717913',
'1G3NL52F03C311698',
'1FMDU63W63ZA35369',
'1FMZU73K73UA55720',
'5GZCZ63B73S871536',
'1GNDX13E53D125963',
'2G1WW12E039361979',
'2G1WH55K139348063',
'1D7HA18N53J523251',
'4T1BE32K03U760481',
'JA4MT21H13J003717',
'4F2CZ04143KM20830',
'JHLRD78863C021908',
'KNADC125536234981',
'1FMFU18L03LB47341',
'1FTRW08L43KA86944',
'1FMPU16L03LA62247',
'WAULC68E93A258102',
'YS3DF78K737007787',
'1YVFP80C935M14152',
'1YVHP80DX35M28997',
'JA3AJ26E93U083424',
'4T1BE32K13U712813',
'5N1ED28Y03C675250',
'1B3ES26C93D170059',
'3FAFP37353R119700',
'KM8SC73D23U537050',
'2D4GP44393R310117',
'2C4GP44353R276612',
'1G1JC12F937158280',
'1G2JB12F137253270',
'1B3EL46X43N515472',
'1GNES16S536123154',
'1GNEC13Z83R260974',
'1GKES16S936185640',
'1FMFU16L13LA75536',
'1FMPU18L93LB15928',
'2FAHP74W63X145013',
'4A3AC44G73E116181',
'4A3AC34G13E007077',
'1GTEK19T63E238350',
'1GKES16P336223312',
'1GNET16S336203517',
'1FAFP40463F373731',
'1FAFP55S13G238664',
'KNAGD126245265423',
'KNAGD126945303665',
'19UUA66224A042732',
'2HGES26714H556689',
'JH4CL96844C035634',
'1GMDX03E24D112121',
'1GNDT13X44K130341',
'1FAFP56S94A164705',
'1N4BA41E24C819805',
'WBANA53564B853971',
'1D4HD48D24F170629',
'WBXPA73424WB29093',
'WBXPA73444WB27894',
'1J4GW48S44C302383',
'1J4GL48KX4W124129',
'1J4GK58K94W226790',
'1FMZU73K44UA10588',
'2C8GM68404R365107',
'2C4GP54L04R604526',
'2FTRX17274CA29509',
'1FMFU16L84LA88365',
'3C8FY68804T248322',
'WAULT68E44A245789',
'WAUAT48H14K016745',
'WAUJC68E94A077235',
'JM1FE173740115220',
'1G6KD54Y04U259969',
'JS3TY92V544109072',
'5FNRL18824B111073',
'JM3LW28A740501002',
'JA4MW51S24J010648',
'1N4AL11D74C147543',
'JNKCV51F74M709746',
'JNRAS08UX4X107138',
'1G2HY52KX4U249738',
'5TDZA22C04S161801',
'JTEDD21AX40100858',
'1G2NF52E24C251900',
'1FMZU65W14ZA07273',
'1G8AJ52F44Z130603',
'1G8AJ52F64Z202451',
'2G1WF52E749394809',
'2G1WF52E949306570',
'2G2WP522241258875',
'1D7HL38N64S561377',
'KNDJC733645238809',
'5FNRL18084B042867',
'4T1CE38P94U806026',
'SALNY22284A403435',
'4T1BF30K94U578960',
'KMHHM65D84U112187',
'KMHHN65F14U152142',
'KMHHM65D84U144380',
'2HGES26744H516834',
'1FTNE24WX4HB19165',
'1FMPU15L84LA53914',
'1N4AL11E44C173879',
'YV1RS59V542346465',
'WA1YD64B14N071426',
'4A3AB36SX4E123545',
'JM1BK123041198210',
'3C8FY78G54T215149',
'1B3EL36X64N418236',
'4T1BE32K34U344491',
'1B3EL36R54N129950',
'1NXBR32E24Z214572',
'5N3AA08C84N811251',
'5N1ED28T24C600099',
'2G1WF52E149195156',
'JHMES95694S007782',
'1FAHP38Z44W137776',
'1N4AL11D84C142660',
'2HKYF18544H611200',
'KM8SC13D44U621286',
'KM8SB12B04U828891',
'KNDUP131X46547240',
'KL1TD52604B197267',
'3C4FY48B84T269551',
'3C4FY58B04T257352',
'3C4FY58864T200478',
'1GKES12S046180060',
'YV1MS682542022794',
'3VWBK21CX4M400901',
'1FMRU13W54LA48448',
'JM1FE173840125108',
'JM1FE173840123701',
'4A3AB36FX4E086726',
'2FAFP71W04X101277',
'1MEFM50U24A600788',
'1FAHP53224G178990',
'1FAFP55S14G194456',
'KMHWF25S55A163965',
'KMHWF25S05A204471',
'KMHDN46D85U045980',
'1HGCM66525A029543',
'1GNDS13S552185017',
'2CNDL13F856069494',
'1N4AL11D25N428526',
'1N4BA41E25C851316',
'1FAFP24115G171610',
'1FAHP28155G102468',
'1D8HB58D55F561284',
'WBANA53515B863549',
'5UXFA13575LY22013',
'1FTYR14U25PA13634',
'1FMYU94155KB19958',
'2FMZA51625BA34866',
'2FMZA50675BA61384',
'1N4AL11DX5N450581',
'5GZCZ33DX5S857794',
'2C4GP44R75R509798',
'2C8GP44R95R129084',
'1C4GP45R55B134071',
'2D4FV48T75H676484',
'2C3JA43R05H529913',
'2D8GZ48V65H696198',
'4T1BE32K35U075328',
'4T1BE30K95U953606',
'JTHBA30G855080337',
'1B3EL46X25N551017',
'1YVHP80DX55M18845',
'1YVHP80C755M49770',
'1G6KD54Y75U163256',
'KNAFE122855141339',
'KMHDN46D15U122172',
'1G6DW677350225559',
'1G6KF57985U172725',
'1HGEM22975L015359',
'1GKEC13T65R241643',
'KNDJD733X55450014',
'KNDUP132656621893',
'KNDJD733955501177',
'JNKCV54E85M403367',
'1FAFP34N25W289650',
'4USBT33575LS57892',
'WP1AA29P95LA22158',
'1FAFP36N55W140890',
'JTHBA30G955087345',
'5TDZA23C55S363839',
'1G1AK52F057663072',
'1G1ND52F85M104026',
'1G1ZT52835F312843',
'1FMZU73K55UA02355',
'4M2ZU86K95ZJ01702',
'1GNDV23E35D143618',
'1GNDS13S852151847',
'KNDJF723257116561',
'KNDJD733455378159',
'WDBNG75J05A438013',
'KMHCG35C15U349709',
'KMHCG35C95U340904',
'KMHCG45C35U631386',
'KMHCG45C25U662192',
'1HGEM22015L025936',
'1N4BL11E45N496663',
'WAUAC48H35K008468',
'3VWRF71KX5M609676',
'1C3EL65R45N503598',
'3C4FY58B55T597999',
'3C8FY688X5T616040',
'JN8AZ08T25W331440',
'2G1WF52E259134870',
'1FAFP34N65W158995',
'1N4AL11DX5N478672',
'JNKCV51E65M202068',
'3N1CB51D95L581629',
'1N4AL11D05N934064',
'3N1CB51D05L454946',
'2D4GP44L75R183869',
'2D4GP44L45R312960',
'2C8GF68465R339543',
'KM8SC13D25U931275',
'KM8JM12B75U189450',
'1D4GP24R05B227847',
'1D4GP24R75B397610',
'1G1ND52F45M203247',
'3C4FY58B65T514984',
'3C4FY48B75T636862',
'1GKET16S456195587',
'1GNES16S656142265',
'1GYEK63N05R232010',
'WVWAD63B15E030515',
'3VWDF71K05M638419',
'WAUJC68E75A118964',
'1ZVFT80N355239125',
'JA3AJ26E65U008103',
'4S3BP676854317901',
'2C3JA53G15H547390',
'1FAFP27125G195295',
'1FAFP26195G175921',
'1FAFP23165G152438',
'JN8AZ08T35W320320',
'2G2WS522651203121',
'1G4HP52K75U258585',
'2C3AA53G45H153981',
'2FAHP71W15X157383',
'1FAHP26186G148090',
'1FAFP27196G177202',
'1D4HB48N26F134604',
'WBAVB335X6PS11132',
'1D4HD58256F108410',
'1FMYU02Z16KD35070',
'1N4AL11D46C132811',
'1N4BA41E46C800417',
'1D4GP25B76B563580',
'2C3KA53G86H384761',
'2A8GM68456R754158',
'2C3LA63H26H159903',
'2B3KA43G66H301917',
'2C3LA63H56H441517',
'2B3KA53H86H248703',
'1FMPU135X6LA88915',
'1B3EL46X86N175036',
'1B3EL46T46N161230',
'1B3EL46XX6N218081',
'3A4FY58B76T346896',
'WVWAK73C76P169316',
'YV1MW390462184872',
'4A3AB36F56E018532',
'JM1BK12FX61441521',
'4A3AK24F96E010012',
'KMHFC46F56A114305',
'KMHDN46D06U213340',
'SALSH23426A970603',
'JS3TE944564100808',
'1N4AL11D16N336700',
'1N4AL11D26C257290',
'2G1WT55KX69197422',
'2G1WC581269113449',
'1G4HP57236U229353',
'2G4WE587161302643',
'2G4WD582561263305',
'WMWRE33516TJ34747',
'WBAVB13526KR62307',
'WBAEK13406CN75451',
'1G2ZG558864124893',
'1G8AL55B46Z106453',
'1G8AW18B36Z199655',
'2G2WP552161156126',
'1GNDS13S362124007',
'1GKES63M162301461',
'1D4HD38K36F118406',
'1D4HD38K06F150701',
'JTKDE177060064391',
'SALSF254X6A980072',
'KNDJF723567171572',
'JS3TE944164101678',
'4JGCB65E56A005210',
'WMWRE33566TJ39491',
'KMHDN56D66U190281',
'KMHDN46D56U371981',
'2HGFG12696H558786',
'1G1ZS51F06F228113',
'3GNDA23D16S547490',
'1G1AK15F367827095',
'1N4AL11D06C169967',
'JNKAY01E26M103671',
'3N1CB51D26L538154',
'JM1FE173860200456',
'JTKDE167660090754',
'JN8AZ08T76W402648',
'5N1AN08U66C523622',
'2HGFG12856H544501',
'1HGCM66846A057663',
'1N4AL11D36N455624',
'3N1CB51D16L579259',
'2A4GM68486R673379',
'1A4GP45R76B583134',
'2A4GP44R66R844255',
'2CKDL63F666088329',
'5Y2SL65836Z438050',
'YV1SW592361535250',
'WAUAH74F26N126079',
'4S3BP626X67362460',
'JM1BK323261423452',
'4S4BP61C167356789',
'1GTEC19V16E226982',
'2C3LA43R26H284865',
'2B3KA53H56H191795',
'2B3LA53H16H489071',
'2B3KA43R36H190938',
'2C3LA53G36H123042',
'1ZVFT80N065155488',
'1ZVFT80N765142219',
'1FAHP53U96A237220',
'1FAFP27196G178821',
'1FAHP25146G182836',
'JN8AZ08T06W404855',
'KMHCN46C97U162876',
'1GNDS13S472276329',
'1GNDV33W37D186518',
'1FAFP56U47A178226',
'JKAEXEA157A021933',
'WBANB53567CP07520',
'1J8FT47W07D143190',
'1FMEU658X7UB85961',
'1G8AJ55F37Z131158',
'1G8ZV577X7F158890',
'5GZCZ33D27S878397',
'1G8AJ55F97Z202282',
'1G8ZS57NX7F274940',
'2B3KA43R77H852862',
'JTNBB46K873039961',
'WAUDF78E97A184414',
'3VWPG71K27M082675',
'3VWEF71K17M165413',
'JF1GD61697G508838',
'1G6DP577570169604',
'KMHCN46C37U098883',
'5NPET46C67H267291',
'1G6DW677270194307',
'2G1WB58K879143021',
'1FAHP34NX7W345720',
'1FAHP34N97W299166',
'1FAFP34N97W242120',
'4T1BE46K67U687459',
'1G2AL15F977183712',
'KL1TD66627B732295',
'5GZCZ33D57S860332',
'1G8AJ58F67Z183427',
'1G8AJ55F27Z120247',
'1D8HD48KX7F560914',
'KNDMC233876014004',
'WBANE53537CW61152',
'5NPET46C77H190835',
'KMHCM36C17U044978',
'1HGCM56367A175763',
'JHMFA16537S006906',
'1G1AL55F677109398',
'5LMFU27597LJ21462',
'YV4CZ982771365600',
'WAUAF78E97A017084',
'WA1BY74L67D047514',
'4S4BP62C777315132',
'JM1BK12F171611525',
'4A3AK24F27E016588',
'3A4FY48B17T507514',
'3A4FY48B57T597380',
'4T1BE46K47U129321',
'3A4FY48B37T544287',
'5N1AN08W97C530096',
'2G1WJ15K679120692',
'2G1WC58R679201072',
'2G1WB58K579170029',
'1N4AL21E37N473301',
'5FNRL38657B066113',
'2A4GP44R77R191159',
'3GNDA13D87S628210',
'1B3HE78K87D534046',
'1C3LC46KX7N509745',
'1B3HB48B77D576585',
'WAUAF78EX7A145740',
'1FBSS31S34HA50746',
'2C3LA63H17H680807',
'2D4FV47T67H780064',
'2B3KA43R67H607065',
'2FAHP71W27X108521',
'2FAFP71W37X115310',
'2MEFM74W67X610162',
'2FAFP71W07X120366',
'1FAFP56U47A175634',
'5N1BV28U57N109401',
'5N1AN08W77C515029',
'5N1BA08C87N706291',
'KMHCM36C98U068916',
'1GNDT13S782121062',
'3N1AB61E38L693319',
'1J8GS48KX8C239208',
'4M2CU911X8KJ08231',
'2A8HR54P98R687700',
'2B3KA43R78H150347',
'2A8GM68X58R100984',
'1C3LC45KX8N674844',
'1C3LC45K98N294832',
'3A8FY48B38T181067',
'3A8FY48B38T157481',
'WVWAK93C48E083729',
'WAUAF78E68A112476',
'JM1BK323381831803',
'JM1BK344981786890',
'KMHCM36C38U084576',
'5NPEU46C98H316997',
'3N1BC13E48L371337',
'KM8NU13C18U049018',
'2G1WT58K689261518',
'1FAHP33N58W162311',
'1FAHP35N68W121716',
'3FAHP07Z78R248024',
'5TDZK23C78S129591',
'5Y2SL65828Z400845',
'1FMCU49H08KC68902',
'1FMCU49H88KB08881',
'1GKDS13S282211252',
'2G1WT58N289189887',
'JTDBT923181284689',
'WBANU53538CT05840',
'3VWPG31Y28M418758',
'KNADE123786304643',
'KMHDU46D58U339103',
'3GNDA23D18S587717',
'1G1AK18F887175038',
'1G1AL58F987315022',
'2CKDL33F586025627',
'1G2ZH57N484204968',
'3GNDA13D48S588273',
'YV1MS390382402332',
'YV1RS592882702354',
'JF1GH63628G836945',
'1B3LC46KX8N183895',
'1C3LC56R38N209940',
'3A8FY68878T183226',
'1C3LC46K78N148749',
'5N1AR18B28C652047',
'1G4HP57288U102715',
'1HGCP26898A133963',
'1G1AL58F387203994',
'3FAHP07148R159943',
'2D8HN44H68R136499',
'3GNDA53P38S641675',
'3GNDA23D48S641253',
'1B3HB28B78D797948',
'1C3LC46J68N284264',
'YV4CZ982181460834',
'2D4FV47T58H111933',
'5NPET46C59H428880',
'JM1BK32F991241780',
'KNADE223996495442',
'1FAHP35N49W197050',
'3FAHP01109R218741',
'3FAHP08Z89R152693',
'1G1ZH57B89F240386',
'1FMEU65EX9UA31923',
'2CNDL53F196254399',
'4T1BE46K09U296729',
'JTLKE50E491068901',
'1G1ZG57B49F136142',
'1B3HB48A79D157212',
'3GNCA13B89S506752',
'1B3LC56D49N505293',
'WVWDA71K19W098523',
'2B3KA43D49H574252',
'1FAHP2KTXAG139715',
'1N4AL2EP1AC179149',
'1FAHP2DW3AG169498',
'1N4AL2AP9AN513244',
'1N4AA5AP3AC807998',
'1J4NT4FB8AD631810',
'2D4RN3D16AR440585',
'3D4PG5FV1AT126188',
'WVWXK7AN1AE166799',
'KMHCN4AC0AU483753',
'JN8AZ2KR3AT169211',
'4T1BF3EK9AU085672',
'KMHDU4AD0AU837917',
'1N4AL2APXAN469965',
'3MEDM0L35AR615672',
'1FAHP3FN0AW290179',
'JM3TB2MV4A0203667',
'1G2ZA5E00A4118381',
'1C3CC5FD3AN190719',
'1C3CC4FB3AN219726',
'3VWJX7AJ9AM075520',
'3VWRZ7AJ7AM140037',
'WVWMP7AN8AE535467',
'2B3CA3CV0AH264255',
'2B3CA3CV4AH227516',
'2B3CA9CV2AH288110',
'1FAHP2EW7AG139824',
'5N1AN0NU5AC521955',
'2MEBM7FV6AX635783',
'5NPEB4AC3BH237684',
'3N1BC1AP3BL468508',
'1N4AL2AP3BN414856',
'3N1BC1CP5BL359822',
'JTLZE4FE6B1135410',
'1C3BC2FB9BN583182',
'KNAGM4AD1B5006906',
'5NPEC4AC3BH002277',
'3FAHP0HA7BR252641',
'JTDKN3DU5B1431651',
'1G1ZC5E15BF395234',
'2G1WG5EK9B1285455',
'5XYKT4A28BG080555',
'SALAG2D43BA551893',
'WBAPH7G52BNN03758',
'3N1BC1APXBL361326',
'JN8AS5MT7BW570632',
'JN8AS5MT9BW576027',
'5N1AR1NN2BC618115',
'3N1AB6AP7BL692845',
'2B3CL3CG6BH527121',
'5XXGM4A72CG037284',
'5XXGM4A77CG034154',
'3N1AB6AP2CL704711',
'3C4PDCAB9CT362775',
'1C3CDZAB2CN238630',
'3VW2K7AJ0CM404692',
'3GYFNAE39CS625444',
'5NPDH4AE5CH085288',
'1N4AL2AP8CN481714',
'1FAHP3F2XCL302140',
'JTLZE4FE4CJ016434',
'2G1WF5E36C1301785',
'KMHDH4AE7CU418804',
'1FAHP3M26CL137982',
'3FADP4EJ1CM221345',
'3N1CN7AP8CL888140',
'1N4AL2AP7CN480361',
'1C3CDWDA1CD536304',
'YV1622FS9C2103767',
'5NPEB4AC4DH617572',
'1N4AL3AP0DN468611',
'3C4PDCAB2DT608292',
'JHMZE2H30DS001452',
'3GNAL2EK7DS601557',
'2G1WG5E37D1105384',
'1FADP3F23DL320981',
'3FADP4BJ1DM136298',
'KNDJT2A62D7568502',
'1G1JC5SH4D4226979',
'1G1JC6SBXD4130226',
'1C3CDFBH5DD214427',
'3N1CN7AP6EL850148',
'3C4PDCBG6ET115341',
'1VWAT7A31EC027787',
'3FADP4BJXEM139475',
'KMHD35LH2EU220193',
'WAUEFBFL0EN033394',
'KNDJN2A27E7057943',
'3FA6P0HD7ER291994',
'3C3CFFAR4FT615811',
'3C3CFFAR3FT615752',
'1C3CDFBB5FD180472',
'NM0GE9E71F1175075',
'3N1AB7AP8FY237338',
'3N1AB7AP1FY335563',
'5NPDH4AE9GH770349',
'KNDJN2A20G7839116',
'1G1JB5SG9H4123234',
'3FADP4EJ7KM155785',
'1FT8W3DT5KEF52445',
'3GCNWAEF8LG333974',
'LL0TCAPH3MG010336',
]

website = 'https://www.decodethis.com/'
# Replace 'C:/path/to/' with the directory containing chromedriver.exe
chrome_driver_path = 'C:\My Stuff\Coding\Three.js\Lesson 14\chromedriver-win64'

def open_website():
    os.environ['PATH'] = f"{chrome_driver_path};{os.environ['PATH']}"

    # Create a Chrome browser instance
    driver = webdriver.Chrome()

    # Open the URL in the browser
    driver.get(website)

    return driver


def enter_vin(driver, vin):
    
    # Locate the input field by name
    input_field = driver.find_element(By.NAME, 'vin')

    # Clear the existing text (optional)
    input_field.clear()

    # Enter the VIN into the input field
    input_field.send_keys(vin)

    # Simulate pressing Enter
    input_field.send_keys(Keys.RETURN)


def search_website(driver):
    try:
        parent_element = WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.XPATH, "/html/body/div[1]/div[7]/div[3]/div/div[4]"))
                                                        
        )                                               
    except Exception as e:
        print(f"An error occurred: {e}")
        driver.quit()
        exit()

    # Find and print all child elements of the parent element
    child_elements = parent_element.find_elements(By.XPATH, ".//*")  # .//* selects all child elements


    try:
        all_text_content = [child_element.text for child_element in parent_element.find_elements(By.XPATH, ".//*")]

    except StaleElementReferenceException:
        # If a StaleElementReferenceException occurs, re-fetch the parent element and try again
        parent_element = WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.XPATH, "/html/body/div[1]/div[7]/div[3]/div/div[4]"))
        )
        all_text_content = [child_element.text for child_element in parent_element.find_elements(By.XPATH, ".//*")]
    
    # Check for a match in each child element's text
    match_found = False

    for text_content in all_text_content:
        if "235/40" in text_content:
            match_found = True
            break  # Exit the loop if a match is found

    if match_found:
        return match_found
    
    else:
        print("No match")
        return match_found
    


def CSV_to_Text_Doc(driver, vin):
    csv_file_path = 'list of cars.csv'

    match_found = True

    with open(csv_file_path, 'r') as file:
        csv_reader = csv.reader(file)

        # Check if text_from_another_xpath is found in each row
        for row in csv_reader:
            if vin in row:
                print("Found, text is: ", row)

                # Write the row to the file in append mode
                with open('Cars-To-See.txt', 'a') as output_file:
                    output_file.write(','.join(row) + '\n')
                break #Exit the loop if a match is found

        # driver.back()
        # enter_vin(driver, vin)


def main():

    driver = open_website()

    for vin in VIN_LIST:
        enter_vin(driver, vin)
        time.sleep(random.randint(1, 5))  # Add a delay before searching (optional)
        match_found = search_website(driver)

        if match_found:
            print(f"Match found for VIN: {vin}")
            CSV_to_Text_Doc(driver, vin)
        else:
            print(f"No match found for VIN: {vin}")

    driver.quit()

if __name__ == "__main__":
    main()

